<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">

<head>
    <title>Crear | TechInt Multinacional</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/navbar.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/create-forms.css}">
    <!-- <script type="text/javascript" th:src="@{/js/create.js}"></script> -->

    <!-- Incluir Choices.js CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css" />

    <!-- Incluir Choices.js JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const paises = document.getElementById('paisesOperados');
            const areas = document.getElementById('areasOperadas');
            const vendedores = document.getElementById('vendedoresContratados');

            const choicesPaises = new Choices(paises, {
                removeItemButton: true,
                placeholderValue: 'Seleccione uno o más Países'
            });

            const choicesAreas = new Choices(areas, {
                removeItemButton: true,
                placeholderValue: 'Seleccione una o más Áreas'
            });

            const choicesVendedores = new Choices(vendedores, {
                removeItemButton: true,
                placeholderValue: 'Seleccione uno o más Vendedores'
            });
        });
    </script>


</head>

<body>
    <div th:insert="~{fragments/navbar :: navbar(create)}"></div>
    <h2>Crear Nueva Empresa</h2>
    <section class="page-card">
        <h3>Informacion de la Empresa</h3>
        <form th:action="@{/create/empresa}" method="post">
            <div class="form-group">
                <label for="nombre">Nombre de la Empresa</label>
                <input type="text" id="nombre" name="nombre"
                    placeholder="Ingrese el nombre de la Empresa" required>
            </div>

            <div id="empresa-fields">
                <div class="form-group">
                    <label for="sede">Sede de la Empresa</label>
                    <select id="sede" name="sede" required>
                        <option value="">Seleccion de Capital</option>
                        <!-- Iterate over the empresas list and create an option for each -->
                        <option th:each="pais : ${paises}" th:value="${pais.id}" th:text="${pais.capital}"></option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="paisesOperados">Paises Operados</label>
                    <select id="paisesOperados" name="paisesOperados[]" multiple required>
                        <!-- Iterate over the empresas list and create an option for each -->
                        <option th:each="pais : ${paises}" th:value="${pais.id}" th:text="${pais.nombrePais}"></option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="areasOperadas">Areas Operadas</label>
                    <select id="areasOperadas" name="areasOperadas[]" multiple required>
                        <!-- Iterate over the areas list and create an option for each -->
                        <option th:each="area : ${areas}" th:value="${area.id}" th:text="${area.nombreArea}">
                        </option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="vendedoresContratados">Vendedores</label>
                    <select id="vendedoresContratados" name="vendedoresContratados[]" multiple>
                        <!-- Iterate over the vendedores list and create an option for each -->
                        <option th:each="userEntity : ${users}" th:value="${userEntity.id}"
                            th:text="${userEntity.username}">
                        </option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="fechaIngreso">Fecha de Ingreso</label>
                <input type="date" id="fechaIngreso" name="fechaIngreso" required>
            </div>
            <div class="form-group">
                <label for="fta">Facturacion Total Anual</label>
                <input type="number" id="fta" name="fta" placeholder="FTA en Millones de USD" min="5"
                    required>
            </div>
            <div class="form-group">
                <button type="submit">Crear Empresa</button>
            </div>
        </form>

    </section>
</body>